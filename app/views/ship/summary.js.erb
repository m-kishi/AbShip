$(function() {
  //日付生成
  <% obj = @summary %>
  <% dtCr = Date.new(obj.year, obj.mnth, 1) %>
  <% dtPy = dtCr - 1.year %>
  <% dtNy = dtCr + 1.year %>
  <% dtPm = dtCr - 1.month %>
  <% dtNm = dtCr + 1.month %>
  //ヘッダタイトル書き換え
  $('h1.header').html('<%= obj.to_title %>');
  //ヘッダパス書き換え
  //'&'が&amp;になってしまうのでhtml_safeを利用
  $('a#prev-year').attr('href', '<%= summary_path(year: dtPy.year, mnth: dtPy.month).html_safe %>');
  $('a#prev-mnth').attr('href', '<%= summary_path(year: dtPm.year, mnth: dtPm.month).html_safe %>');
  $('a#next-mnth').attr('href', '<%= summary_path(year: dtNm.year, mnth: dtNm.month).html_safe %>');
  $('a#next-year').attr('href', '<%= summary_path(year: dtNy.year, mnth: dtNy.month).html_safe %>');
  //再描画
  $('#sum-food').html('<%= to_currency(@summary.food) %>');
  $('#sum-otfd').html('<%= to_currency(@summary.otfd) %>');
  $('#sum-good').html('<%= to_currency(@summary.good) %>');
  $('#sum-frnd').html('<%= to_currency(@summary.frnd) %>');
  $('#sum-trfc').html('<%= to_currency(@summary.trfc) %>');
  $('#sum-play').html('<%= to_currency(@summary.play) %>');
  $('#sum-hous').html('<%= to_currency(@summary.hous) %>');
  $('#sum-engy').html('<%= to_currency(@summary.engy) %>');
  $('#sum-cnct').html('<%= to_currency(@summary.cnct) %>');
  $('#sum-medi').html('<%= to_currency(@summary.medi) %>');
  $('#sum-insu').html('<%= to_currency(@summary.insu) %>');
  $('#sum-othr').html('<%= to_currency(@summary.othr) %>');
  $('#sum-ttal').html('<%= to_currency(@summary.ttal) %>');
  $('#sum-blnc').html('<%= to_currency(@summary.blnc) %>');
});
